# 【CMS】 **ジム一覧** 画面

##　1．ジム一覧画面

ジム一覧を表示する画面である。表示モードは一覧とマップとして２つがある。

### 一覧表示モードの項目／イベント定義

- 店舗のレコードを押下すると **ジム詳細一覧画面** に遷移する。
- 1画面の最大レコード数：10件

![nf](image\jp\cms\302\Gyms-List.png)

#### APIデータ：

- ジムの画像
- `松山姫原店`: 店舗名
- `791-8012 栄姫県松山市姫原2-4-28ラジ2F`: 店舗の郵便番号と住所
- `¥300`: 1回の入室料金
- `¥2500`: 上限金額 
- `30台`: 店舗の駐車場の台数

#### ①　ジム一覧をリストモードで表示させる `ボタン`、②　ジム一覧をマップモードで表示させる `ボタン`

- リストモーにある場合、① `ボタン`が青で、押下不可で、② `ボタン`がグレーで、押下可能である。
　 マップモードにある場合、①`ボタン`がグレーで、押下可能で、②`ボタン`が青で、押下不可である。

#### ③　新規店舗作成 `ボタン`

‐ 押下すると、 **新規店舗作成** 画面にリダイレクトさせる

#### ④　下書きを編集 `ボタン`

‐ 押下すると、一時保存されているステップのページにリダイレクトさせる。店舗の情報が一時保存だでなく、 **保存**されたとき、このボタンを非表示になること。

### マップ表示モードの項目／イベント定義

![nf](image\jp\cms\302\Gyms-Map.png)

![nf](image\jp\cms\302\Store_Icon.PNG)は店舗の位置である。押下すると店舗の紹介情報のポップアップを表示する。

- APIデータ：
    - `松山姫原店`：店舗名
    - `791-8012 栄姫県松山市姫原2-4-28 フジ２F`: 店舗の住所
    - `140名`: 現在利用中の人数。誰も使っていない場合、0を表示する。
    -  `300`: 入室の料金である。料金が設定されていない場合、`未設定`を表示する

- 詳細→ `ボタン`を押下すると **ジム詳細一覧画面** に遷移する。

- 別の店舗をクリックする場合、表示さているポップアップが消えて、クリックした店舗のポップアップを表示する。

- 店舗の位置でない箇所をクリックする場合、表示しているポップアップを非表示にする。

### エラー一覧（Error List）

`None`

##　2．ジム詳細一覧画面

ジムの詳細情報の画面である。ジム作成のSTEP1~STEP7までの情報がここに表示される。

![nf](image\jp\cms\302\Gyms-Detail.png)

#### 店舗名`区画`

STEP1の入力情報が反映されるエリアである。

- APIデータ：
    - `店舗名`：店舗名
    - `791-8012 栄姫県松山市姫原2-4-28 フジ２F`: 店舗の住所
    - `詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細`: 詳細内容

#### イメージ`区画`

STEP2にてアップロードしたジムの画像が反映されるエリアである。

- 画像の最大数：５つ

- こちらのエリアの小さい画像をクリックする場合、上の大きい画像エリアに拡大されて表示されること。

#### ジム詳細`区画`

STEP3の入力情報が反映されるエリアである。

- APIデータ：
    - `2022/10/24`：開店予定日である。すでにオープンされているジムの場合、空白とする。
    - `34`: ジム駐車場の台数
    - `140`: ジムの会員総数（active、unsub、blockedのすべて）
    - `56`: ジムのトレーニングマシン総数

#### プラン`区画`

STEP4の入力情報が反映されるエリアである。

- 基本プランのAPIデータ：
    - `1650`：ジム利用の定期料金である。
    - `1ヶ月分の定額料金となります。料金は1ヶ月事に自動でお引き落としが発生します。定額料金は1ヶ月分を先払いとなっています。料金お支払い後1ヶ月間のご利用権利が付与され、施設への入室が可能になります。`: 定期料金の説明情報である。
    - `550`: 入室の料金である。
    - `※ 表示の金額は松山姫原店の1回の平均利用額になります。施設事にジムの混雑状況によって、利用金額が変動金額が変動します。施設入室時に自動で決済が発生し、入室が可能です。`: 入室料金の説明情報である。

#### オプション`区画`

STEP5の入力情報が反映されるエリアである。

- APIデータ：
    - `1500`：手ぶらde会員の定期料金である。
    - `シャワーや3DBODYSCANの測定が使い放題。＊1回のみの利用の場合は、500円の課金でご使用が可能です。`: 手ぶらde会員の説明情報である。
    - `900`: 水素水の定期料金である。
    - `フィットネスの効果を高める水素水が飲み放題。より健康で美しい身体を手に入れることができます！※ 専用のボトルの別途購入をお願いしています。`: 水素水の説明情報である。

#### プライシング設計エリア

STEP7の入力情報が反映されるエリアである。

- APIデータ：
    - `人数`：表示のみ。編集不可。STEP7を参照。
    - `料金`：表示のみ。編集不可。STEP7を参照。
    - `混雑状況の表示`: 混雑レベル。表示のみ。編集不可。STEP7を参照。
    - `ジム利用料金上限金額（税込）`: 表示のみ。編集不可。STEP7を参照。

#### 会員一覧エリア

ジムのユーザ一覧の先行3レコードを表示する。

- APIデータ：
    - `オクモトイブキ` : ユーザーの名前  
    - `会員`、`退会予定`など : 会員状況。会員/退会予定/退会者/ブロックの４つがある。
       - 会員: 活性ユーザー。基本料金プランを契約している。
       - 退会予定：基本料金プランを解約しているが、まだ利用期間中である。
       - 退会者：基本料金プランを解約していて、利用期間が完全に終了した。
       - ブロック: ブロックされるユーザー
    - `基本料金`、`手ぶらde会員`など : 会員が契約しているプランをすべて表示する。基本料金/手ぶらde会員/水素水の３つのプランがある。 
    - `2683475234` : ユーザーの電話番号 |

- すべて表示`ボタン`を押下すると、ユーザーがすべて表示される画面にリダイレクトすること。
　
![nf](image\jp\cms\302\Gyms-Detail-Members.png)

- 検索欄：自由のキーワードでカテゴリー関係なくユーザーを検索する欄。例えば、`水素水`で検索したら、水素水オプションを契約しているユーザーがソートされる。

<Phần tìm kiếm này như vậy đúng không anh?>

- APIデータ：
    - `5236` : ユーザーの総数。会員、退会予定、退会者、ブロックの合計になる。  
    - `3220` : 活性会員人数
    - `1016` : 退会予定者の人数
    - `220` : 退会者の人数
    - `6` : ブロックされる会員の人数

- メンバー一覧エリアはユーザーのレコードをカテゴリー別で表示するエリアである。１画面にカテゴリーごとに最大10レコードを表示できる。

- ユーザーのレコードをクリックすると、そのユーザーの詳細情報ページにリダイレクトする。

![nf](image\jp\cms\302\Gyms-Detail-Member-Detail.png)

<To anh Sinh: Bữa nào call giải thích cho em về màn hình này với ạ.>

- 支払歴`ボタン`を押下すると、そのユーザーの支払詳細履歴画面にリダイレクトする。

![nf](image\jp\cms\302\Gyms-Detail-Member-Detail-Payment.png)

<To anh Sinh: Bữa nào call giải thích cho em về màn hình này với ạ.>

#### トレーニングマシンエリア

ジムのトレーニングマシンをすべて表示する。常に5件を表示し、6件目からはアコーディオンメニューで表示・非表示にする。

- APIデータ：
     - `チェストプレス`: 機械の名称と写真
     - `トレーニングマシン`：機械の種類
     - `SH-G6902`：機械のモデル
     - `3`：機械の台数

- すべて表示`ボタン`を押下すると、トレーニングマシンがすべて表示される画面にリダイレクトすること。

![nf](image\jp\cms\302\Gyms-Detail-Machines.png)

- 現在利用中のマシンを表示するエリアである。１画面に最大5レコードを表示できる。

- APIデータ：
     - `インクライン チェスト プレス`：機械の名称
     - `SHUA69シリーズで一番人気のアイテム！ 腕が描くので…`：機械の説明。最大2行で表示する。2行以上の場合、…で表示する。
     - `SH-G6901`：機械のモデル
     - `トレーニングマシン`、`有酸素マシン`：マシンの種類。トレーニングマシンと有酸素マシンの２つの種類がある。
     - `2022/10/24`:マシンの情報が更新された日。フォーマット：yyyy年mm月dd日

#### トレーニング種目一覧エリア

トレーニング種目のビデオを最大5件表示する。すべて表示する`ボタン`を押下すると、トレーニング種目のビデオがすべて表示される。

![nf](image\jp\cms\302\Training-machine.PNG)

- APIデータ：
   - `ロウ｜リアデルト`: ビデオのタイトル
   - `背中`、`胸`など：鍛える部位

- ビデオのタイトルを押下すると、そのビデオの詳細画面に遷移する。 **トレニンーグビデオ詳細画面** を参照してください。

![nf](image\jp\cms\304\Training-Videos-detail-1.png)


##　3．ジム基本情報入力_STEP1

![nf](image\jp\cms\302\Gyms-Create-Step1.png)

### 表示モードの項目／イベント定義

#### ステップバー

- ジム作成の各ステップである。 **01　ジムの基本情報/ 02　メディア/ 03　その他のご案内/ 04　プラン/ 05　設備/ 06　マシン/ 07　単価** の7ステップがある。
- 色分け：
    - 青：現在のステップ
    - グレー：現在のステップではない、かつ、未完了のステップ
    - 緑：現在のステップではない、かつ、未完了のステップ

例1：ステップ1で入力中、ステップ2以降は未完了

![nf](image\jp\cms\302\Gyms-Step-Bar1.PNG)

例2：ステップ1が完了で、ステップ2で入力中、ステップ3以降は未完了

![nf](image\jp\cms\302\Gyms-Step-Bar2.png)

#### 入力エリア

- インプットデータはすべて必須入力である。
    - 店舗名`インプット`：必須入力。最大250文字。
    - 詳細`インプット`：必須入力。最低オプションはフォントサイズ、フォント スタイル: レギュラー、ボールド、イタリック、テキストの配置: 左、中央、右、テキストの色が必要とする。
    - 郵便番号`インプット`：必須入力。必須入力以外、有効な郵便番号かチェックする。
    - 県`インプット`：必須入力
    - 市区町村以下`インプット`：必須入力
    - 経度`インプット`:必須入力
    - 緯度`インプット`:必須入力

### X `ボタン`

- 押下すると、入力した情報をすべて破棄して、 **ジム一覧画面** に戻る。

### 一時保存 `ボタン`

- 押下すると、すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、青と緑のステップの情報を保存し、 **ジム一覧画面** に戻ること。

### 次へ `ボタン`

- 押下すると、すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、現在のステップの情報を保存し、 STEP **02　メディア** にリダイレクトすること。

### 3.3 エラー一覧

####　必須入力のエラー

- 店舗名: 店舗名を入力してください
- 詳細: 詳細を入力してください
- 郵便番号: 郵便番号を入力してください
- 県: 県を入力してください
- 市区町村以下: 市区町村以下を入力してください
- 経度: 経度を入力してください
- 緯度: 緯度を入力してください

####　有効チェック

- 郵便番号: 郵便番号が無効です

##　4．メディア入力_STEP2

![nf](image\jp\cms\302\Gyms-Create-Step2-Default.png)

### 項目／イベント定義

- デフォルトは「ファイルを選択」`ボタン`を表示する。このコマから画像をアップロードすることができる。

- アップロードできる最大画像数は５つである。5つの画像がアップロードされたら、「ファイルを選択」`ボタン`を非表示にする。

- アップロードした画像に編集・削除アイコンを設定する。
     - 編集アイコンはアップロードした画像を別の画像に変更することがでる。
     - 削除アイコンはアップロードした画像を削除することができる。

### X `ボタン` 

- 押下すると、入力した情報をすべて破棄して、 **ジム一覧画面** に戻る。

### 一時保存 `ボタン`

- 押下すると、すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、青と緑のステップの情報を保存し、 **ジム一覧画面** にリダイレクトすること。

### 次へ `ボタン`

- 押下すると、すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、現在のステップの情報を保存し、 STEP **03　その他のご案内** にリダイレクトする。

### 戻る`ボタン` 

- 押下すると、STEP **01　ジム基本情報入力** にリダイレクトする。

### エラー一覧

- 画像が１つもアップロードされない場合のエラーメッセージ：`少なくとも 1 つの画像をアップロードしてください`

##　5．その他のご案内入力_STEP3

![nf](image\jp\cms\302\Gyms-Create-Step3.png)

### 項目／イベント定義

- 入力データ：
    - OPEN日`インプット`：必須入力。ジムの開店日。
    - 駐車場台数`インプット`：必須入力。ジムの駐車場の台数。

### X `ボタン`

- 押下すると、入力した情報をすべて破棄して、ジム一覧画面に戻る。

### 一時保存 `ボタン` 

- 押下すると、すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、青と緑のステップの情報を保存し、 **ジム一覧画面** にリダイレクトする。

### 次へ `ボタン` 

- 押下すると、すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、現在のステップの情報を保存し、 STEP **04　プラン** にリダイレクトする。

### 戻る `ボタン` 

- 押下すると、STEP **02　メディア** にリダイレクトする。

### 5.3 エラー一覧

- 必須入力のエラーメッセージ：
OPEN日: OPEN日を入力してください
駐車場台数: 駐車場台数を入力してください

##　6．プラン入力_STEP4

![nf](image\jp\cms\302\Gyms-Create-Step4.png)

### 項目／イベント定義

- 入力データ：
    - ジム利用料金`インプット`：必須入力。最大250文字。
    - 説明`インプット`：必須入力。

### X `ボタン`

- 押下すると、入力した情報をすべて破棄して、ジム一覧画面に戻る。

### 一時保存 `ボタン` 

- 押下すると、すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、青と緑のステップの情報を保存し、 **ジム一覧画面** にリダイレクトする。

### 次へ `ボタン`

- 押下すると、すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、現在のステップの情報を保存し、 STEP **05　設備** にリダイレクトする。

### 戻る `ボタン`

- 押下すると、STEP **03　その他のご案内** にリダイレクトする。

### エラー一覧

- 必須入力のエラーメッセージ：
　ジム利用料金：ジム利用料金を入力してください
　説明：説明を入力してください

##　7．設備入力_STEP5

![nf](image\jp\cms\302\Gyms-Create-Step5.png)

### 項目／イベント定義

- 入力データ：
    - 手ぶらde会員の詳細 `インプット`：必須入力。手ぶらde会員の説明
    - 水素水の説明`インプット`：必須入力。水素水の説明

### X `ボタン`

- 押下すると、入力した情報をすべて破棄して、ジム一覧画面に戻る。

### 一時保存 `ボタン`

- 押下すると、すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、青と緑のステップの情報を保存し、 **ジム一覧画面** にリダイレクトする。

### 次へ `ボタン` 

- 押下すると、すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、現在のステップの情報を保存し、 STEP **06　マシン** にリダイレクトする。

### 戻る `ボタン` 

- 押下すると、STEP **04　プラン** にリダイレクトする。

### エラー一覧

- 必須入力のエラーメッセージ：
  手ぶらde会員の詳細: 手ぶらde会員詳細を入力してください
| 水素水の説明: 水素水詳細を入力してください

##　8．設備入力_STEP6

![nf](image\jp\cms\302\Gyms-Create-Step6.png)

### 項目／イベント定義

- APIデータ：
    - `機械`：2と同じ
    - `種類`：2と同じ
    - `モデル`：2と同じ
    - `台数`：2と同じ

### X `ボタン`

- 押下すると、入力した情報をすべて破棄して、ジム一覧画面に戻る。

### 一時保存 `ボタン`

- 押下すると、すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、青と緑のステップの情報を保存し、 **ジム一覧画面** にリダイレクトする。

### 次へ `ボタン` 

- 押下すると、すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、現在のステップの情報を保存し、 STEP **07　単価** にリダイレクトする。

### 戻る `ボタン`

- 押下すると、STEP **05　設備** にリダイレクトする。

### 詳細を見る→ `ボタン`

- 押下すると、該当のマシンの台数入力ポップアップをする。

![nf](image\jp\cms\302\Machine-add.PNG)

- 台数追加`ボタン`を押下すると、タブレットマシン番号を入力する欄が活性になる。

![nf](image\jp\cms\302\Machine-add-1.PNG)

 - APIデータ：
    - `【CMC】ランニングマシン（トレッドミル・ルームランナー）`: 2同じ
    - `MS287225-2023111-1673396087999-161`: 2同じ
    - タブレットマシン番号`インプット`: タブレットマシン一つ一つの番号を入力する。ほかのマシンと同じ数字が入力されたら、エラーとする。必須入力ではない。
 - ゴミ箱アイコン：押下するとそのレコードが削除される。
 - 戻る `ボタン` を押下すると、保存せずに **STEP6の画面** にリダイレクトする
 - 保存 `ボタン` を押下すると、バリデーションチェックを行い、エラーがなかったら **STEP6の画面** にリダイレクトする。入力されたタブレットマシン番号が重複であれば、「指定のシーケンス番号は既に使用されています。」のメッセージを表示し、ポップアップにリメインする。

 - 正常に保存されたら、そのマシンのQRコードが生成される。

 ![nf](image\jp\cms\302\Machine-add-2.PNG)

##　9．単価入力_STEP7

ジムの利用人数に応じる一回の入室料金を設定するステップである。ここで設定するデータはモバイルアプリのジム詳細に表示される。人数が多ければ多いほど一回の入室料金が高くなる設定になること。

![nf](image\jp\cms\302\Gyms-Create-Step7.png)

### 項目／イベント定義

- APIデータ：
    - 人数`インプット`：必須入力。0より大きい数字、かつ、上昇で入力すること。
    - 料金`インプット`：必須入力。０以上の数字、かつ、上昇で入力すること。
    - それ以外`インプット`：必須入力。
    - `混雑状況の表示`: 混雑レベル
    - ジム利用料金上限金額（税込）`インプット`: 1っか月のジム利用料金上限金額。毎回の合計料金がこの金額になるとそれ以降課金されなくなる。

### X `ボタン` 

- 押下すると、入力した情報をすべて破棄して、ジム一覧画面に戻る。

### 一時保存 `ボタン`

- 押下すると、すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、青と緑のステップの情報を保存し、 **ジム一覧画面** にリダイレクトする。

### 保存 `ボタン`

- 押下すると、すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、すべてのステップの情報を保存し、 **ジム一覧画面** にリダイレクトする。

### 戻る `ボタン`

- 押下すると、STEP **06　プラン** にリダイレクトする。

### 9.3 エラー一覧

- 必須入力のエラーの場合、「単位情報を入力してください」のメッセージを表示する。

































