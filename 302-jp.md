# 【CMS】 **ジム一覧** 画面

##　1．ジム一覧画面

ジム一覧を表示する画面である。この画面での操作により、ジムを新規作成、ジムの下書きを編集することができる。

表示モードは一覧とマップとして２つがある。

### 1.1 一覧表示モードの項目／イベント定義

![nf](image\jp\cms\302\Gyms-List.png)

#### 1.1.1 APIデータ：

| 項目名 | 値 | 説明 |
| ------ | ------ |--------|
| `ジム一覧` | なし | 一覧の名称 |
| `店舗名` |松山姫原店| 店舗名と店舗の画像 |
| `住所` | 791-8012 栄姫県松山市姫原2-4-28ラジ2F | 店舗の郵便番号と住所 |
| `1回料金` | ¥300 | 1回の入室料金 |
| `上限金額` | ¥2500 | 最大の入室料金 |
| `駐車場台数` | 30台 | 店舗の駐車場の台数 |

- 店舗のレコードを押下すると **2．ジム詳細一覧画面** に遷移する。

- 1画面の最大レコード数：10件

#### 1.1.2  各 `ボタン`

①　ジム一覧をリストモードで表示させる `ボタン`
②　ジム一覧をマップモードで表示させる `ボタン`
→　リストモーにある場合、① `ボタン`が青で、押下不可で、② `ボタン`がグレーで、押下可能である。
　 マップモードにある場合、①`ボタン`がグレーで、押下可能で、②`ボタン`が青で、押下不可である。
③　新規店舗作成 `ボタン`：新規店舗作成ページにリダイレクトさせるボタン
④　下書きを編集 `ボタン`:一時保存されているステップのページにリダイレクトさせるボタン。店舗の情報が一時保存だでなく、 **保存**されたとき、このボタンを非表示になること。
⑤　前/次のページを表示させる`ページネーション`

### 1.2 マップ表示モードの項目／イベント定義

![nf](image\jp\cms\302\Gyms-Map.png)

![nf](image\jp\cms\302\Store_Icon.PNG)は店舗の位置である。押下すると店舗の紹介情報のポップアップを表示する。

- APIデータ：
    - `松山姫原店`：店舗名
    - `791-8012 栄姫県松山市姫原2-4-28 フジ２F`: 店舗の住所
    - `140名`: 現利用中の人数。誰も使っていない場合、0を表示する。
    -  `300`: 入室の料金である。料金が設定されていない場合、`未設定`を表示する

- 詳細→ `ボタン`を押下すると **2．ジム詳細一覧画面** に遷移する。

- 別の店舗をクリックする場合、表示さているポップアップが消えて、キリックした店舗のポップアップを表示する。

- 店舗の位置でない箇所をクリックする場合、表示しているポップアップを非表示にする。

### 1.3 エラー一覧（Error List）

`None`

##　2．ジム詳細一覧画面

ジムの詳細情報の画面である。ジム作成のSTEP1~STEP7までの情報がここに表示される。

![nf](image\jp\cms\302\Gyms-Detail.png)

#### 2.1 店舗名エリア

STEP1の入力情報が反映されるエリアである。

- APIデータ：
    - `店舗名`：店舗名
    - `791-8012 栄姫県松山市姫原2-4-28 フジ２F`: 店舗の住所
    - `詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細詳細`: 詳細内容

#### 2.2 イメージエリア

STEP2にてアップロードしたジムの画像が反映されるエリアである。

- 画像の最大数：５つ

- こちらのエリアの小さい画像をクリックする場合、上の大きい画像エリアに拡大されて表示されること。

#### 2.3 ジム詳細エリア

STEP3の入力情報が反映されるエリアである。

- APIデータ：
    - `2022/10/24`：開店予定日である。すでにオープンされているジムの場合、空白とする。
    - `34`: ジム駐車場の台数
    - `140`: ジムの会員総数（active、unsub、blockedのすべて）
    - `56`: ジムのトレーニングマシン総数

#### 2.4 プランエリア

STEP4の入力情報が反映されるエリアである。

- 基本プランのAPIデータ：
    - `1650`：ジム利用の定期料金である。
    - `1ヶ月分の定額料金となります。料金は1ヶ月事に自動でお引き落としが発生します。定額料金は1ヶ月分を先払いとなっています。
料金お支払い後1ヶ月間のご利用権利が付与され、施設への入室が可能になります。`: 定期料金の説明情報である。
    - `550`: 入室の料金である。
    - `※ 表示の金額は松山姫原店の1回の平均利用額になります。施設事にジムの混雑状況によって、利用金額が変動金額が変動します。施設入室時に自動で決済が発生し、入室が可能です。`: 入室料金の説明情報である。

#### 2.5 オプションエリア

STEP5の入力情報が反映されるエリアである。

- APIデータ：
    - `1500`：手ぶらde会員の定期料金である。
    - `シャワーや3DBODYSCANの測定が使い放題。＊1回のみの利用の場合は、500円の課金でご使用が可能です。`: 手ぶらde会員の説明情報である。
    - `900`: 水素水の定期料金である。
    - `フィットネスの効果を高める水素水が飲み放題。より健康で美しい身体を手に入れることができます！※ 専用のボトルの別途購入をお願いしています。`: 水素水の説明情報である。

#### 2.6 プライシング設計エリア

STEP7の入力情報が反映されるエリアである。

- APIデータ：
    - `人数`：表示のみ。編集不可。STEP7を参照。
    - `料金`：表示のみ。編集不可。STEP7を参照。
    - `混雑状況の表示`: 混雑レベル。表示のみ。編集不可。STEP7を参照。
    - `ジム利用料金上限金額（税込）`: 表示のみ。編集不可。STEP7を参照。

#### 2.7 会員一覧エリア

ジムのユーザ一覧の先行3レコードを表示する。

- APIデータ：
    - `ユーザー` : ユーザーの名前  
    - `会員状況` : 会員/退会予定/退会者/ブロック 
       - 会員: 活性ユーザー。基本料金プランを契約している。
       - 退会予定：基本料金プランを解約しているが、まだ利用期間中である。
       - 退会者：基本料金プランを解約していて、利用期間が完全に終了した。
       - ブロック: ブロックされるユーザー
    - `契約プラン` : 基本料金/手ぶらde会員/水素水 
    - `電話番号` : ユーザーの電話番号 |

- すべて表示`ボタン`を押下すると、ユーザーがすべて表示される画面にリダイレクトすること。
　
![nf](image\jp\cms\302\Gyms-Detail-Members.png)

- 検索欄：自由のキーワードでカテゴリー関係なくユーザーを検索する欄。例えば、`水素水`で検索したら、水素水オプションを契約しているユーザーがソートされる。

<Phần tìm kiếm này như vậy đúng không anh?>

- APIデータ：
    - `5236` : ユーザーの総数。会員、退会予定、退会者、ブロックの合計になる。  
    - `3220` : 活性会員人数
    - `1016` : 退会予定者の人数
    - `220` : 退会者の人数
    - `6` : ブロックされる会員の人数

- メンバー一覧エリアはユーザーのレコードをカテゴリー別で表示するエリアである。１画面にカテゴリーごとに最大7レコードを表示できる。それ以上は下部分の前/次のページを表示させる`ページネーション`で表示させる。

- ユーザーのレコードをクリックすると、そのユーザーの詳細情報ページにリダイレクトする。

![nf](image\jp\cms\302\Gyms-Detail-Member-Detail.png)

<To anh Sinh: Bữa nào call giải thích cho em về màn hình này với ạ.>

- 支払歴`ボタン`を押下すると、そのユーザーの支払詳細履歴画面にリダイレクトする。

![nf](image\jp\cms\302\Gyms-Detail-Member-Detail-Payment.png)

<To anh Sinh: Bữa nào call giải thích cho em về màn hình này với ạ.>

#### 2.8 トレーニングマシンエリア

ジムのトレーニングマシンの先行3レコードを表示する。

- APIデータ：
     - `機械`: 機械の名称と写真
     - `種類`：機械の種類
     - `モデル`：機械のモデル
     - `台数`：機械の台数

- すべて表示`ボタン`を押下すると、トレーニングマシンがすべて表示される画面にリダイレクトすること。

<sửa lại phần này, thiếu button thu gọn>

![nf](image\jp\cms\302\Gyms-Detail-Machines.png)

- 現在利用中のマシンを表示するエリアである。１画面に最大5レコードを表示できる。それ以上は下部分の前/次のページを表示させる`ページネーション`で表示させる。

- APIデータ：
     - `機械`：同上
     - `種類`：同上
     - `モデル`：同上
     - `台数`：同上
     - `更新日`:マシンの情報が更新された日

#### 2.9 トレーニング種目一覧エリア

トレーニング種目のビデオを最大5件表示する。すべて表示`ボタン`を押下すると、トレーニング種目のビデオがすべて表示される画面にリダイレクトする。

<To anh Sinh: Mấy video này được up lên từ đâu vậy anh?>

![nf](image\jp\cms\302\Gyms-Detail-Videos-Detail.png)

- トレニンーグ種目のビデオを表示するエリアである。１画面に最大8レコードを表示できる。それ以上は下部分の前/次のページを表示させる`ページネーション`で表示させる。

#### 2.10 戻る `ボタン`

- 戻る `ボタン`を押下すると、 **ジム一覧画面** にリダイレクトする。

#### 2.11 編集 `ボタン`

- 編集 `ボタン`を押下すると、STEP1の画面にリダイレクトされる。編集モードでSTEP1~STEP7の画面に入力していた情報を表示する。情報を編集したいステップまで行き、情報を修正する。最後のSTEP7の保存`ボタン`を押下することで、編集した情報が保存される。

#### 2.12 ジムを削除 `ボタン`

- ジムを削除 `ボタン`を押下すると、

#### 2.13 すべて表示 `ボタン`

- 各エリアを参照。

##　3．ジム基本情報入力_STEP1

![nf](image\jp\cms\302\Gyms-Create-Step1.png)

### 3.1 一覧表示モードの項目／イベント定義

#### ステップバー

- ジム作成の各ステップである。 **01　ジムの基本情報/ 02　メディア/ 03　その他のご案内/ 04　プラン/ 05　設備/ 06　マシン/ 07　単価** の7ステップがある。
- 色分け：
    - 青：現在のステップ
    - グレー：現在のステップではない、かつ、未完了のステップ
    - 緑：現在のステップではない、かつ、未完了のステップ

例1：ステップ1で入力中、ステップ2以降は未完了

![nf](image\jp\cms\302\Gyms-Step-Bar1.PNG)

例2：ステップ1が完了で、ステップ2で入力中、ステップ3以降は未完了

![nf](image\jp\cms\302\Gyms-Step-Bar2.png)

#### 入力エリア

- インプットデータはすべて必須入力である。
    - `店舗名`：ジム名
    - `詳細`：ジムの詳細。最低オプションはフォントサイズ、フォント スタイル: レギュラー、ボールド、イタリック、テキストの配置: 左、中央、右、テキストの色が必要とする。
    - `郵便番号`：ジムの住所の郵便番号。必須入力以外、有効な郵便番号かチェックする。
    - `県`：ジムの住所の県
    - `市区町村以下`：ジムの住所の市区町村以降
    - `経度`:ジムの位置の経度
    - `緯度`:ジムの位置の緯度

### 3.2 各`ボタン`

- X `ボタン`：このボタンを押下すると、入力した情報をすべて破棄して、ジム一覧画面に戻ること。

- 一時保存 `ボタン`：このボタンを押下すると、すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、青と緑のステップの情報を保存し、 **ジム一覧画面** に戻ること。

- 次へ `ボタン`：このボタンを押下すると、すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、現在のステップの情報を保存し、 STEP **02　メディア** にリダイレクトすること。

### 3.3 エラー一覧

####　未入力の場合

| 項目名 | エラーメッセージ |
| ------ | --------|
| `店舗名` | `店舗名を入力してください` |
| `詳細` | `詳細を入力してください` |
| `郵便番号` | `郵便番号を入力してください` |
| `県` |  `県を入力してください` |
| `市区町村以下` |  `市区町村以下を入力してください` |
| `経度` |  `経度を入力してください` |
| `緯度` |  `緯度を入力してください` |

`郵便番号`のみ、有効チェックがあるので、有効でない場合、`郵便番号が無効です`と表示する。

##　4．メディア入力_STEP2

 **デフォルト表示：** 
![nf](image\jp\cms\302\Gyms-Create-Step2-Default.png)

### 4.1 一覧表示モードの項目／イベント定義

- デフォルトは「ドラッグ＆ドロップ　ファイルを選択」の画像アップロードコマを表示する。このコマから画像をアップロードすることができること。

- アップロードできる最大画像数は５つである。5つの画像がアップロードされたら、「ドラッグ＆ドロップ　ファイルを選択」の画像アップロードコマを非表示にする。

-  **画像をアップロードした時の表示：** 
![nf](image\jp\cms\302\Gyms-Create-Step2.png)

     - アップロードした画像に編集・削除アイコンを設定する。
     - 編集アイコンはアップロードした画像を別の画像に変更することがでる。
     - 削除アイコンはアップロードした画像を削除することができる。

### 4.2 各 `ボタン`

| ボタン名 | 動作 |
| ------ | --------|
| X `ボタン` | 入力した情報をすべて破棄して、ジム一覧画面に戻ること |
| 一時保存 `ボタン` | すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、青と緑のステップの情報を保存し、 **ジム一覧画面** にリダイレクトすること。 |
| 次へ `ボタン` | すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、現在のステップの情報を保存し、 STEP **03　その他のご案内** にリダイレクトすること。 |
| 戻る`ボタン` |  　STEP **01　ジム基本情報入力** にリダイレクトすること |

### 4.3 エラー一覧

- 画像が１つもアップロードされない場合のエラーメッセージ：`少なくとも 1 つの画像をアップロードしてください`

##　5．その他のご案内入力_STEP3

![nf](image\jp\cms\302\Gyms-Create-Step3.png)

### 5.1 一覧表示モードの項目／イベント定義

- APIデータ：
    - `OPEN日`：必須入力。ジムの開店日。
    - `駐車場台数`：必須入力。ジムの駐車場の台数

### 5.2 各 `ボタン`

| ボタン名 | 動作 |
| ------ | --------|
| X `ボタン` | 入力した情報をすべて破棄して、ジム一覧画面に戻ること |
| 一時保存 `ボタン` | すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、青と緑のステップの情報を保存し、 **ジム一覧画面** にリダイレクトすること。 |
| 次へ `ボタン` | すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、現在のステップの情報を保存し、 STEP **04　プラン** にリダイレクトすること。 |
| 戻る `ボタン` |  　STEP **02　メディア** にリダイレクトすること |

### 5.3 エラー一覧

いずれかの項目が **未入力** の場合、エラーメッセージを表示する。

| 項目名 | エラーメッセージ |
| ------ | --------|
| OPEN日 | `OPEN日を入力してください` |
| 駐車場台数 | `駐車場台数を入力してください` |

##　6．プラン入力_STEP4

![nf](image\jp\cms\302\Gyms-Create-Step4.png)

### 6.1 一覧表示モードの項目／イベント定義

- APIデータ：
    - `ジム利用料金`：必須入力。一回のジム利用料金
    - `説明`：必須入力。一回のジム利用料金の説明

### 6.2 各 `ボタン`

| ボタン名 | 動作 |
| ------ | --------|
| X `ボタン` | 入力した情報をすべて破棄して、ジム一覧画面に戻ること |
| 一時保存 `ボタン` | すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、青と緑のステップの情報を保存し、 **ジム一覧画面** にリダイレクトすること。 |
| 次へ `ボタン` | すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、現在のステップの情報を保存し、 STEP **05　設備** にリダイレクトすること。 |
| 戻る `ボタン` |  　STEP **03　その他のご案内** にリダイレクトすること |

### 6.3 エラー一覧

いずれかの項目が **未入力** の場合、エラーメッセージを表示する。

| 項目名 | エラーメッセージ |
| ------ | --------|
| ジム利用料金 | `ジム利用料金を入力してください` |
| 説明 | `説明を入力してください` |

##　7．設備入力_STEP5

![nf](image\jp\cms\302\Gyms-Create-Step5.png)

### 7.1 一覧表示モードの項目／イベント定義

- APIデータ：
    - 手ぶらde会員の `詳細`：必須入力。手ぶらde会員の説明
    - 水素水の`説明`：必須入力。水素水の説明

### 7.2 各 `ボタン`

| ボタン名 | 動作 |
| ------ | --------|
| X `ボタン` | 入力した情報をすべて破棄して、ジム一覧画面に戻ること |
| 一時保存 `ボタン` | すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、青と緑のステップの情報を保存し、 **ジム一覧画面** にリダイレクトすること。 |
| 次へ `ボタン` | すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、現在のステップの情報を保存し、 STEP **06　マシン** にリダイレクトすること。 |
| 戻る `ボタン` |  　STEP **04　プラン** にリダイレクトすること |

### 7.3 エラー一覧

いずれかの項目が **未入力** の場合、エラーメッセージを表示する。

| 項目名 | エラーメッセージ |
| ------ | --------|
| 手ぶらde会員の `詳細` | `手ぶらde会員詳細を入力してください` |
| 水素水の`説明` | `水素水詳細を入力してください` |

##　8．設備入力_STEP6
![nf](image\jp\cms\302\Gyms-Create-Step6.png)

### 8.1 一覧表示モードの項目／イベント定義

- APIデータ：
    - `機械`：2.8と同じ
    - `種類`：2.8と同じ
    - `モデル`：2.8と同じ
    - `台数`：2.8と同じ

### 8.2 各`ボタン`

| ボタン名 | 動作 |
| ------ | --------|
| X `ボタン` | 入力した情報をすべて破棄して、ジム一覧画面に戻ること |
| 一時保存 `ボタン` | すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、青と緑のステップの情報を保存し、 **ジム一覧画面** にリダイレクトすること。 |
| 次へ `ボタン` | すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、現在のステップの情報を保存し、 STEP **07　単価** にリダイレクトすること。 |
| 戻る `ボタン` |  　STEP **05　設備** にリダイレクトすること |
| 詳細を見る→ `ボタン` |  　該当のマシンの台数入力ポップアップをすること |

### マシンの台数入力ポップアップ:
![nf](image\jp\cms\302\Gyms-Create-Step6-Popup.png)

 - APIデータ：
    - `機械`: 2.8と同じ
    - `種類`: 2.8と同じ
    - `マシン番号`: マシン一つ一つの番号
    - `タブレットマシン番号`: タブレットマシン一つ一つの番号
 - 戻る `ボタン` を押下すると、保存せずにSTEP6の画面にリダイレクトする
 - 保存 `ボタン` を押下すると、保存して、STEP6の画面にリダイレクトする
 - 台数追加 `ボタン` ??
 - エラーメッセージ：??

### 8.3 エラー一覧

マシンが **いずれも未入力** の場合、`少なくとも１つマシンを選択してください`のエラーメッセージを表示する。

##　9．単価入力_STEP7

ジムの利用人数に応じる一回の入室料金を設定するステップである。ここで設定するデータはモバイルアプリのジム詳細に表示される。人数が多ければ多いほど一回の入室料金が高くなる設定になること。

![nf](image\jp\cms\302\Gyms-Create-Step7.png)
(Cần thay thành ảnh có dấu X)

### 9.1 一覧表示モードの項目／イベント定義

- APIデータ：
    - `人数`：必須入力。0より大きい数字、かつ、上昇で入力すること。
    - `料金`：必須入力。０以上の数字、かつ、上昇で入力すること。
    - `混雑状況の表示`: 混雑レベル
    - `ジム利用料金上限金額（税込）`: 1っか月のジム利用料金上限金額。毎回の合計料金がこの金額になるとそれ以降課金されなくなること。

### 9.2 各 `ボタン`

| ボタン名 | 動作 |
| ------ | --------|
| X `ボタン` | 入力した情報をすべて破棄して、ジム一覧画面に戻ること |
| 一時保存 `ボタン` | すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、青と緑のステップの情報を保存し、 **ジム一覧画面** にリダイレクトすること。 |
| 保存 `ボタン` | すべての入力項目のバリデーションをチェックする。エラーが発生する場合、該当の項目の下にエラーメッセージを表示する。エラーが発生しない場合、すべてのステップの情報を保存し、 **ジム一覧画面** にリダイレクトすること。 |
| 戻る `ボタン` |  　STEP **06　プラン** にリダイレクトすること |

### 9.3 エラー一覧

- いずれかの項目が **未入力** の場合、エラーメッセージを表示する。

| 項目名 | エラーメッセージ |
| ------ | --------|
| 人数 | `人数を入力してください` |
| 料金 | `単価情報を入力してください` |
| ジム利用料金上限金額（税込） | `ジム利用料金上限金額を入力してください` |

- 昇順で入力していない場合、エラーメッセージを表示する。

| 項目名 | エラーメッセージ |
| ------ | --------|
| 人数 | `昇順で人数を入力してください` |
| 料金 | `昇順で単価を入力してください` |

































