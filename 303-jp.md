# 【CMS-MANAGER】 **トレーニングマシン** `Training machine`

- 全店共通のトレーニングマシンを管理する機能です。

## **マシン一覧** 画面

![nf](image/jp/cms/303/training-machine-list.png)

### 項目／イベント定義

##### 新規作成 `ボタン`

- ボタンをタップしたら、 **マシン新規追加** 画面に移動される。

##### 現在利用中のマシン一覧 `区画`

- ステータスがアクティブなマシン（トレーニングマシン・有酸素マシン）のリストが含まれます。
- 現在利用中のマシン一覧はページに分かれており、1ページには5件のマシンが含まれています
- マシンのどこかをクリックすると、その **トレーニングマシン詳細** 画面に遷移される。
- 各マシンのAPIデータ：
    - マシン画像
    - `インクライン チェスト プレス`：マシン名
    - `SHUA69シリーズで一番人気のアイテム！ 腕が描くので…`：マシン詳細。最大２行まで詳細が表示され、長すぎかったら、最後に。。。を表示する
    - `SH-G6901`：モデル番号
    - `トレーニングマシン`：機種
    - `2022/10/24`：更新日。フォーマット：`YYYY年mm月dd日`
     
#### 削除されたマシン一覧 `区画`

- ステータスが削除済みのマシン（トレーニングマシン・有酸素マシン）のリストが含まれます
- 削除されたマシン一覧はページに分かれており、1ページには5件のマシンが含まれています
- マシンのどこかをクリックすると、その **トレーニングマシン詳細** 画面に遷移される。
- 各マシンのAPIデータ：
    - マシン画像
    - `インクライン チェスト プレス`：マシン名
    - `SHUA69シリーズで一番人気のアイテム！ 腕が描くので…`：マシン詳細。最大２行まで詳細が表示され、長すぎかったら、最後に。。。を表示する
    - `SH-G6901`：モデル番号
    - `トレーニングマシン`：機種
    - `2022/10/24`：削除日。フォーマット：`YYYY年mm月dd日`

### エラー一覧（Error List）

`None`

## **トレートレーニングマシン詳細** 画面

![nf](image/jp/cms/303/training-machine-detail.png)

### 項目／イベント定義

##### トレーニングマシン一覧に戻る `ボタン`

- ボタンをタップしたら、 **マシン一覧** 画面に戻る

##### 変更 `ボタン`

- `変更`ボタンは、現在利用中のマシン詳細ページにのみ表示されます
- `変更`ボタンをクリックしたら、 **トレーニングマシン追加・変更** フォームに遷移する。

##### 削除 `ボタン`

- `削除`ボタンは、現在利用中のマシン詳細ページにのみ表示されます
- `削除`ボタンをクリックしたら、削除かどうかのポップアップが表示される。
   - `はい、削除します`ボタンをクリックしたら、マシンのステータスを削除済みに変更して、 **マシン一覧** 画面に遷移する。
   - `キャンセル`ボタンをクリックしたら、 削除せずに **トレートレーニングマシン詳細** に戻る。

##### 利用中に戻す `ボタン`

- `利用中に戻す`ボタンは、削除済みのマシン詳細ページにのみ表示されます
- `利用中に戻す`ボタンをクリックしたら、マシンのステータスをアクティブに変更して、 **マシン一覧** 画面に遷移する。

##### 完全に削除する `ボタン`

- `完全に削除する`ボタンは、削除済みのマシン詳細ページにのみ表示されます
- `完全に削除する`ボタンをクリックしたら、削除かどうかのポップアップが表示される。
   - `はい、削除します`ボタンをクリックしたら、マシンのデータを完全に削除して、 **マシン一覧** 画面に遷移する。
   - `キャンセル`ボタンをクリックしたら、 削除せずに **トレートレーニングマシン詳細** 画面に戻る。

##### マシン詳細 `区画`

- マシンのAPIデータ：
    - マシン画像
    - `インクラインチェストプレス`：マシン名
    - `SH-XXXX`：モデル番号
    - `2022/4/5`：更新日。フォーマット：`YYYY年mm月dd日`
    - `トレーニングマシン`：機種
    - `SHUA69シリーズで一番人気のアイテム！ 腕が描くので…`：マシン詳細
     
#### マシンとリンクされた動画一覧 `区画`

- トレーニングマシンとリンクされたトレーニングビデオ一覧を表示される
- 有酸素マシンは動画がリンクされないので、この区画が表示されない
- ビデオをクリックしたら、その **トレーニングビデオ詳細** 画面に遷移する。 **トレーニングビデオ** 参考

### エラー一覧（Error List）

`None`

## **マシン新規追加** 画面

![nf](image/jp/cms/303/add-new-machine.png)

### 項目／イベント定義

##### トレーニングマシンを新規追加する `ボタン`

- ボタンをタップしたら、 **トレーニングマシン追加・変更** フォームに遷移する。

##### 有酸素マシンを新規追加する `ボタン`

- ボタンをタップしたら、 **トレーニングマシン追加・変更** フォームに遷移する。

### エラー一覧（Error List）

`None`

## **トレーニングマシン追加・変更** フォーム

![nf](image/jp/cms/303/add-edit-machine-form.png)

### 項目／イベント定義

##### 画像追加 `ボタン`

- ボタンをタップしたら、マシンの画像のアップロードを行う。画像アップロードできたら、このボタンが非表示になり、アップロードした画像が表示する。
- アップロードした画像の上に画像変更・削除ボタンが表示される
    - 左ボタンをタップしたら、画像を再アップロードする
    - 右ボタンをクリックしたら、アップロードした画像を削除する。画像を削除したら、`画像追加`ボタンが表示される

##### マシン名 `インプット`

- 必要、25文字以下
- 25文字以上入力できない

##### モデル `インプット`

- 必要、25文字以下
- 25文字以上入力できない

##### 詳細 `インプット`

- 必要、255文字以下
- 255文字以上入力できない

##### 戻る `ボタン`

- ボタンを押下したら、
    - 追加の場合は、 **マシン一覧** 画面に戻る。
    - 変更の場合は、 **トレートレーニングマシン詳細** 画面に戻る。

##### 保存 `ボタン`
- ボタンを押下する時にバリデーションチェックを行う。
    - バリデーションチェックが通らなかったら、不良なインプットの下にエラーメッセージを表示される
- バリデーションエラーがなかったら、入力されたデータを保存して、
    - 追加の場合は、 **マシン一覧** 画面に戻る。
    - 変更の場合は、 **トレートレーニングマシン詳細** 画面に戻る。

### エラー一覧（Error List）

#### 項目エラー（Item Error）

- 画像
    - 必要： `画像をアップロードしてください`

- マシン名
    - 必要： `マシン名を入力してください`

- モデル
    - 必要： `モデルを入力してください`

- 詳細
    - 必要： `詳細を入力してください`