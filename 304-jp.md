# 【CMS-MANAGER】 **トレーニングビデオ** `Training video`

- 全店共通のトレーニングビデオを管理する機能です。

## 1. **トレーニングビデオ一覧** 画面

![nf](image/jp/cms/304/list-video.png)

### 項目／イベント定義

##### 新規作成 `ボタン`

- ボタンをタップしたら、 **トレーニングビデオアップロード** 画面に移動される。
- **トレーニングビデオアップロード** 画面で:
    - 「ファイルから選択」を押下して、ファイルを選択し、アップロードすることができる。アップロードが完了したら、**トレーニングビデオ一覧** 画面に戻り、「アップロード成功」のメッセージが表示される。
    - Xボタンを押下すると、**トレーニングビデオ一覧** 画面に戻る。

![nf](image\jp\cms\304\video-upload.png)

##### 発行中 `区画`

- 何も編集せずにアップロードしただけのビデオ、および、ステータスが **編集中** なビデオのリストである。
- 発行中のトレニンーグビデオ一覧はページに分かれており、1ページには最大5件のビデオが表示されている。
- ビデオのどこかをクリックすると、その **トレーニングビデオ詳細①** 画面に遷移される。
- 各ビデオのAPIデータ：
    - ビデオ画像
    - `Bench Press Exercise`：ビデオのタイトル
    - `Set with sub maximal weight. Bench press with Seal row with...`：ビデオの詳細。最大２行まで詳細が表示され、長すぎかったら、最後に...を表示する
    - `胸`、`背中`など：鍛える部位
    - `00:00:00`：ビデオの時間。フォーマット：`hh:mm:ss`
    - `24/10/2022`：更新日。ビデオがアップロードされた日、または、最終編集日。フォーマット：`YYYY年mm月dd日`

- 削除 `ボタン`: 押下すると確認メッセージが表示される。「キャンセル」を選択した場合、 **トレーニングビデオ一覧** 画面に戻る。「はい、削除します」を選択した場合、対象のビデオを削除するし、ビデオのステータスを削除済みに変更し、削除済みビデオ `区画`に移動する。

![nf](image\jp\cms\304\delete-confirm.png)

- 編集 `ボタン`：押下すると、 **ビデオ作成画面のSTEP1** に遷移する。入力済みのデータが自動入力される。

##### アクティブなビデオ `区画`

- ビデオ作成の４STEPが完了し、保存されたビデオのリストである。
- アクティブなビデオ一覧はページに分かれており、1ページには最大5件のビデオが表示されている。
- ビデオのどこかをクリックすると、その **トレーニングビデオ詳細①** 画面に遷移される。
- 各ビデオのAPIデータ：
    - ビデオ画像
    - `Bench Press Exercise`：ビデオのタイトル
    - `Set with sub maximal weight. Bench press with Seal row with...`：ビデオの詳細。最大２行まで詳細が表示され、長すぎかったら、最後に...を表示する
    - `胸`、`背中`など：鍛える部位
    - `00:00:00`：ビデオの時間。フォーマット：`hh:mm:ss`
    - `24/10/2022`：更新日。ビデオがアップロードされた日、または、最終編集日。フォーマット：`YYYY年mm月dd日`

- 削除 `ボタン`: 発行中`区画`と同じ

- 編集 `ボタン`：発行中`区画`と同じ

##### 削除済みビデオ `区画`

- ステータスが削除済みのビデオのリストである。
- アクティブなビデオ一覧はページに分かれており、1ページには最大5件のビデオが表示されている。
- ビデオのどこかをクリックすると、その **トレーニングビデオ詳細②** 画面に遷移される。
- 各ビデオのAPIデータ：
    - ビデオ画像
    - `Bench Press Exercise`：ビデオのタイトル
    - `Set with sub maximal weight. Bench press with Seal row with...`：ビデオの詳細。最大２行まで詳細が表示され、長すぎかったら、最後に...を表示する
    - `胸`、`背中`など：鍛える部位
    - `00:00:00`：ビデオの時間。フォーマット：`hh:mm:ss`
    - `24/10/2022`：更新日。ビデオがアップロードされた日、または、最終編集日。フォーマット：`YYYY年mm月dd日`

- 削除 `ボタン`: 押下すると確認メッセージが表示される。「完全に削除」を選択した場合、 データベースからビデオを完全に削除される。「利用中に戻す」を選択した場合、対象のビデオのステータスに応じて適切な区画に戻す。ステータスが編集中の場合、発行中 `区画`に移動し、ステータスがアクティブの場合、アクティブなビデオ `区画`に移動する。

![nf](image\jp\cms\304\Permanent-delete-confirm.png)

### エラー一覧（Error List）

`None`

# 2. STEP1 **ビデオインフォメーション** 画面

![nf](image\jp\cms\304\Video-Information-STEP1.png)

### 項目／イベント定義

##### X `ボタン`

- 押下すると、
    - **トレーニングビデオ一覧** 画面から遷移した場合、 **トレーニングビデオ一覧** 画面に戻る。
    - **トレーニングビデオ詳細** 画面から遷移した場合は、 **トレーニングビデオ詳細** 画面に戻る。

##### サムネイル `区画`

- 画像はアップロード必須。最大1件アップロードできる。
- ファイルを選択 `ボタン`: ボタンをタップしたら、サムネイル画像のアップロードを行う。画像アップロードできたら、このボタンが非表示になり、アップロードした画像が表示する。
- アップロードした画像の上に画像変更・削除ボタンが表示される
左ボタンをタップしたら、画像を再アップロードする
右ボタンをクリックしたら、アップロードした画像を削除する。画像を削除したら、画像追加ボタンが表示される

##### 種目名 `インプット`

- 必須、250文字以下
- 250文字以上入力できない

#### 説明 `インプット`

- 必須、255文字以下
- 255文字以上入力できない

#### 一時保存 `ボタン`

- 押下すると、バリデーションチェックを行う。エラーがなかったら、
    - トレーニングビデオ一覧から遷移した場合、 **トレーニングビデオ一覧** 画面に戻る。「アップデート成功」のメッセージが表示される。
    - トレーニングビデオ詳細から遷移した場合は、 **トレーニングビデオ詳細** 画面に戻る。
- エラーが発生する場合、エラーを表示し、STEP1の画面にリメインする。

#### 次へ `ボタン`

- 押下すると、バリデーションチェックを行い、エラーがない場合、STEP2 **チャプター** 画面に遷移する。エラーが発生する場合、エラーを表示し、STEP1の画面にリメインする。

### エラー一覧（Error List）

##### サムネイル 

- 必須： `サムネイルをアップロードしてください。`
- フォーマット：`ファイルが無効です(jpg,jpeg,png,gif,bmp,svg,webp)`

##### 種目名 

- 必須： `種目名を入力してください。`
- 入力制限：`タイトルは 250 文字以内を入力してください。`

##### 説明

- 必須： `説明を入力してください。`
- 入力制限：`説明はXXX文字以内を入力してください。`
(Xem lại độ dài)

# 3. STEP2 **ビデオインフォメーション** 画面

![nf](image\jp\cms\304\Chapter-STEP2-Default.PNG)

「+チャプターを追加する」`ボタン`を押下すると１つのチャプター区画が追加される。下記の画像はボタンを2回押下した結果である。

![nf](image\jp\cms\304\Chapter-STEP2.png)

### 項目／イベント定義

##### 右上のX `ボタン`

- 押下すると、
    - **トレーニングビデオ一覧** 画面から遷移した場合、 **トレーニングビデオ一覧** 画面に戻る。
    - **トレーニングビデオ詳細** 画面から遷移した場合は、 **トレーニングビデオ詳細** 画面に戻る。

##### チャプター `区画`

- 画像はアップロード必須。最大1件アップロードできる。
- ファイルを選択 `ボタン`: ボタンをタップしたら、サムネイル画像のアップロードを行う。画像アップロードできたら、このボタンが非表示になり、アップロードした画像が表示する。
- アップロードした画像の上に画像変更・削除ボタンが表示される
左ボタンをタップしたら、画像を再アップロードする
右ボタンをクリックしたら、アップロードした画像を削除する。画像を削除したら、画像追加ボタンが表示される

###### X `ボタン`

- 押下するとそのチャプター`区画`が非表示になる

###### タイトル `インプット`

- 必須、250文字以下
- 250文字以上入力できない

###### 開始時間 `インプット`

- 必須入力
- フォーマット：hh:mm:ss

###### 終了時間 `インプット`

- 必須入力
- フォーマット：hh:mm:ss

###### ※開始時間と終了時間の関係：
- チャプターが１つしかない場合：
    - ビデオの開始時間＜＝チャプターの開始時間＜チャプターの終了時間＜＝ビデオの終了時間
- チャプターが2つ以上ある場合：
   - ビデオの開始時間＜チャプター1の開始時間
   - 最後のチャプターの終了時間＜ビデオの終了時間
   - チャプター1の終了時間＜チャプター2の終了時間

#### 戻る `ボタン`

- 押下するとSTEP1のビデオインフォメーションに遷移する。

#### 一時保存 `ボタン`

- 押下すると、バリデーションチェックを行う。エラーがなかったら、
    - トレーニングビデオ一覧から遷移した場合、 **トレーニングビデオ一覧** 画面に戻る。「アップデート成功」のメッセージが表示される。
    - トレーニングビデオ詳細から遷移した場合は、 **トレーニングビデオ詳細** 画面に戻る。
- エラーが発生する場合、エラーを表示し、STEP1の画面にリメインする。
(Confirm với Anh Sinh + Huyền: Check lại đích back về)

#### 次へ `ボタン`

- 押下すると、バリデーションチェックを行い、エラーがない場合、STEP3 **アクティブなマシン** 画面に遷移する。エラーが発生する場合、エラーを表示し、STEP2の画面にリメインする。

### エラー一覧（Error List）

##### 画像 

- 必須： `サムネイルをアップロードしてください。`
- フォーマット：`ファイルが無効です(jpg,jpeg,png,gif,bmp,svg,webp)`

##### タイトル 

- 必須： `チャプター情報を入力してください。`
- 入力制限：`タイトルは 250 文字以内を入力してください。`

##### 開始時間

- 必須： `入力してください。`
- 無効の時間：`開始時間が無効です。`

##### 終了時間

- 必須： `入力してください。`
- 無効の時間：`終了時間が無効です。`
- チャプターの終了時間がビデオの終了時間より大きい：`ビデオの終了時間以前を指定してください。`

# 4. STEP3 **アクティブなマシン** 画面

ステータスがアクティブのマシンのみ表示する。数の制限がないです。アクティブなマシンをすべて表示する。

![nf](image\jp\cms\304\Active-Machine-STEP3.png)

### 項目／イベント定義

##### 右上のX `ボタン`

- 押下すると、
    - **トレーニングビデオ一覧** 画面から遷移した場合、 **トレーニングビデオ一覧** 画面に戻る。
    - **トレーニングビデオ詳細** 画面から遷移した場合は、 **トレーニングビデオ詳細** 画面に戻る。

##### 選択 `チェックボックス`

‐　選択必須。チェックをしない限り、一時保存`ボタン`、次へ`ボタン`が非活性になること。チェックが1件以上ある場合、一時保存`ボタン`、次へ`ボタン`が活性になること。

##### APIデータ

- マシンの画像
- `インクライン チェスト プレス`: マシン名
- `SHUA69シリーズで一番人気のアイテム！ 腕が描くので…`: マシン詳細
- `SH-G6901`: マシンのモデル
- `2022/10/24`: マシンの情報が更新された日付

#### 戻る `ボタン`

- 押下するとSTEP2のチャプターに遷移する。

#### 一時保存 `ボタン`

- 押下すると、バリデーションチェックを行う。エラーがなかったら、
    - トレーニングビデオ一覧から遷移した場合、 **トレーニングビデオ一覧** 画面に戻る。「アップデート成功」のメッセージが表示される。
    - トレーニングビデオ詳細から遷移した場合は、 **トレーニングビデオ詳細** 画面に戻る。「アップデート成功」のメッセージが表示される。
    （Thực tế cả 2 trường hợp đều đang back về video list）
- エラーが発生する場合、エラーを表示し、STEP1の画面にリメインする。

#### 次へ `ボタン`

- 押下すると、バリデーションチェックを行い、エラーがない場合、STEP4 **鍛える部位** 画面に遷移する。エラーが発生する場合、エラーを表示し、STEP3の画面にリメインする。

### エラー一覧（Error List）

`None`

# 5. STEP4 **鍛える部位** 画面

ステータスがアクティブのマシンのみ表示する。数の制限がないです。アクティブなマシンをすべて表示する。

![nf](image\jp\cms\304\Train-part-STEP4.png)

### 項目／イベント定義

##### 右上のX `ボタン`

- 押下すると、
    - **トレーニングビデオ一覧** 画面から遷移した場合、 **トレーニングビデオ一覧** 画面に戻る。
    - **トレーニングビデオ詳細** 画面から遷移した場合は、 **トレーニングビデオ詳細** 画面に戻る。
    （Thực tế cả 2 trường hợp đều đang back về video list）

##### 選択 `チェックボックス`

‐　選択必須。チェックをしない限り、保存`ボタン`が非活性になること。チェックが1件以上ある場合、保存`ボタン`が活性になること。チェックされるアイコンに、青いボーダーで囲まれること。

#### 戻る `ボタン`

- 押下するとSTEP3のアクティブなマシンに遷移する。

#### 保存 `ボタン`

- 押下すると、バリデーションチェックを行い、エラーがない場合、STEP4 **鍛える部位** 画面に遷移する。エラーが発生する場合、エラーを表示し、STEP3の画面にリメインする。

### エラー一覧（Error List）

`None`

# 6. **トレーニングビデオ詳細** 画面①

ビデオのステータスが編集中、または、アクティブの場合、ビデオをクリックすると下記の詳細画面に遷移される。

![nf](image\jp\cms\304\Training-Videos-detail-1.png)

#### 戻る `ボタン`

‐ 押下すると、 **トレニンーグビデオ一覧** 画面に遷移する。

#### 編集 `ボタン`

‐ 押下すると、 STEP1の **ビデオインフォメーション** 画面に遷移する。入力済みの情報があったら、自動入力される。

#### ビデオを削除 `ボタン`

- 押下すると確認メッセージが表示される。「キャンセル」を選択した場合、 **トレーニングビデオ詳細** 画面①に戻る。「はい、削除します」を選択した場合、対象のビデオを削除するし、ビデオのステータスを削除済みに変更し、削除済みビデオ `区画`に移動する。

![nf](image\jp\cms\304\delete-confirm.png)

- APIデータ：
    - `ベンチプレスエクササイズ`: ビデオのタイトル
    - `サブ最大ウェイトで設定します。 シールロウ付きのベンチプレス。 30 代の平均的な男性は、体重の 90% をベンチプレスすることができますが、これはいくつかの要因によって異なります。`: ビデオの詳細
    - `チャプター`：チャプターが入力されたら、表示する。チャプターが入力されなかったら、チャプター`区間`を丸ごと非表示になる。
    - `太もも`など：入力された鍛える部分
    - `ロープッシュチェストトレーナー`：マシン名
    - `SH-G6902`: マシンのモデル

- ゴミ箱`ボタン`：押下すると、確認メッセージが表示される。「キャンセル」を選択した場合、 **トレーニングビデオ詳細** 画面①に戻る。「はい、削除します」を選択した場合、対象のマシンを削除するし、**トレーニングビデオ詳細** 画面①に戻る。

![nf](image\jp\cms\304\delete-machine-confirm.png)

### エラー一覧（Error List）

`None`

# 7. **トレーニングビデオ詳細** 画面②

ビデオのステータスが削除済みの場合、ビデオをクリックすると下記の詳細画面に遷移される。

![nf](image\jp\cms\304\Training-Videos-detail-2.png)

#### 利用中に戻す `ボタン`

‐ 押下すると、 ビデオのステータスを削除済みから編集中/アクティブに変更し、 **トレニンーグビデオ一覧画面** に戻る。

#### ビデオを削除 `ボタン`

- 押下すると確認メッセージが表示される。「キャンセル」を選択した場合、 **トレーニングビデオ詳細** 画面②に戻る。「はい、削除します」を選択した場合、対象のビデオをデータベースから完全に削除するし、**トレニンーグビデオ一覧画面** に戻る。

![nf](image\jp\cms\304\delete-confirm.png)

####　それ以外

- **トレーニングビデオ詳細** 画面①と同じ

### エラー一覧（Error List）

`None`